<link href='https://cdn.jsdelivr.net/gh/taoanhfreeblog/data/taoanhfreeall.css' rel='stylesheet'/>
<link href='https://cdn.jsdelivr.net/gh/codetienich/dulieu/2bootstrap.min.css' rel='stylesheet'/>
<link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css' rel='stylesheet'/>
<script src='https://cdn.jsdelivr.net/gh/codetienich/dulieu/popper.min.js'></script>
<script src='https://cdn.jsdelivr.net/gh/codetienich/dulieu/bootstrap.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.5/js/select2.js'></script>




<script src="./js/goo.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/taoanhfreeblog/file/lyrics3.css" />
<span style="font-family: fontjan60 ;"></span><span style="font-family: fontjan3 ;"></span>
<span style="font-family: fontjan28 ;"></span>

<span style="font-family: myfont_taoanhfree;"></span>


 <div class="modal fade" id="imgModal1" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h7 class="modal-title">Chọn ảnh:</h7>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <ul class="nav nav-tabs" id="imageTab1" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="upload-tab1" data-bs-toggle="tab" data-bs-target="#upload1" type="button" role="tab" onclick="showCropContainer(1)">Từ thiết bị</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="gallery-tab1" data-bs-toggle="tab" data-bs-target="#gallery1" type="button" role="tab" onclick="hideCropContainer(1)">Thư viện ảnh</button>
                        </li>
                    </ul>


                    <div class="tab-content mt-3" id="imageTabContent1">

                        <div class="tab-pane fade show active" id="upload1" role="tabpanel">
                            <label class="btn btn-success btn-upload w-100" for="inputIMG1" title="Upload image file">
                                <input type="file" class="d-none" id="inputIMG1" name="file" accept=".jpg,.jpeg,.png,.gif,.bmp,.tiff">
                                <span data-feather="upload"></span> <span id="chonanh1">Chọn ảnh</span>
                            </label>
                        </div>
                        
                        <div class="tab-pane fade" id="gallery1" role="tabpanel">
                            <div class="horizontal-gallery" id="stockImages1">
                                <div class="gallery-item">
                                    <img src="https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3nen1.jpeg" class="stock-img" data-img-num="1">
                                </div> 
								<div class="gallery-item">
                                    <img src="https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3nen2.jpeg" class="stock-img" data-img-num="1">
                                </div>
                                 <div class="gallery-item">
                                    <img src="https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3nen3.jpeg" class="stock-img" data-img-num="1">
                                </div> 
								<div class="gallery-item">
                                    <img src="https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3nen4.jpeg" class="stock-img" data-img-num="1">
                                </div>	
								<div class="gallery-item">
                                    <img src="https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3nen5.jpeg" class="stock-img" data-img-num="1">
                                </div>
                           	<div class="gallery-item">
                                    <img src="https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3nen6.jpeg" class="stock-img" data-img-num="1">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="cropanh-container mt-3 d-none" id="cropanh-container1">
                        <div class="img-container" style="max-height: 250px; overflow: hidden;">
                            <img id="image1" src="https://lh3.googleusercontent.com/-p03BBI8EkzE/YebSL0nPToI/AAAAAAAAAvw/XCXVVVz_SPIDc1_Eh_imHW87UCGvUEVYwCNcBGAsYHQ/h120/blank.png" alt="Vui lòng chọn ảnh" style="max-width: 100%; max-height: 300px;">
                        </div>
                        <div class="d-flex float-end mt-2">
                            <div class="btn-group me-2">
                                <button type="button" class="btn btn-success" id="rotate-left1" title="Rotate Left">↺
                                    <span data-feather="rotate-ccw"></span> 
                                </button>
                                <button type="button" class="btn btn-success" id="rotate-right1" title="Rotate Right">↻
                                    <span data-feather="rotate-cw"></span> 
                                </button>
                            </div>
                            <div class="btn-group me-2">
                                <button type="button" class="btn btn-success" id="flip-h1" title="Flip Horizontal">⇌</button>
                                <button type="button" class="btn btn-success" id='flip-v1' title="Flip Vertical">⥯</button>
                            </div>
                            <button type="button" class="btn btn-success" id="crop1">Cắt ảnh</button>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
    </div>


    <div class="modal fade" id="imgModal2" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h7 class="modal-title">Chọn ảnh từ thiết bị</h7>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="tab-content" id="imageTabContent2">
                        <div class="tab-pane fade show active" id="upload2" role="tabpanel">
                            <label class="btn btn-success btn-upload w-100" for="inputIMG2" title="Upload image file">
                                <input type="file" class="d-none" id="inputIMG2" name="file" accept=".jpg,.jpeg,.png,.gif,.bmp,.tiff">
                                <span data-feather="upload"></span> <span id="chonanh2">Chọn ảnh</span>
                            </label>
                        </div>
                    </div>

                    <div class="cropanh-container mt-3 d-none" id="cropanh-container2">
                        <div class="img-container" style="max-height: 250px; overflow: hidden;">
                            <img id="image2" src="https://dulieublog2.github.io/img/blank.png" alt="Vui lòng chọn ảnh" style="max-width: 100%; max-height: 300px;">
                        </div>
                        <div class="d-flex float-end mt-2">
                            <div class="btn-group me-2">
                                <button type="button" class="btn btn-success" id="rotate-left2" title="Rotate Left">↺
                                    <span data-feather="rotate-ccw"></span> 
                                </button>
                                <button type="button" class="btn btn-success" id="rotate-right2" title="Rotate Right">↻
                                    <span data-feather="rotate-cw"></span> 
                                </button>
                            </div>
                            <div class="btn-group me-2">
                                <button type="button" class="btn btn-success" id="flip-h2" title="Flip Horizontal">⇌</button>
                                <button type="button" class="btn btn-success" id='flip-v2' title="Flip Vertical">⥯</button>
                            </div>
                            <button type="button" class="btn btn-success" id="crop2">Cắt ảnh</button>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
    </div>

	 <script>
	 var chonkieumatna = [
{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna1.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna1.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna2.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna2.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna3.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna3.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna4.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna4.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna5.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna5.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna6.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna6.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna7.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna7.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna8.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna8.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna9.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna9.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna10.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna10.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna11.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna11.png",
},{
thumb:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/thumblyric3matna12.png",
matna:"https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3matna12.png",
}

];
	 
	 </script>
	 

<span style="font-family: fontjan20;"></span>

<div class="row d-flex mb-3">
<div>
<b>Chọn kiểu để ghép</b>
<div id="chonkieumatna"  class="scroller-type"></div>
</div>
</div>
	<script>
document.getElementById("chonkieumatna").innerHTML = chonkieumatna.map((data, index) => {
    let kieumatna = index + 1;

    return `
            <div class="mauanh">
                <label class="mb-2 wrap-img" for="matna11${kieumatna}">
                    <img src="${data.thumb}" width="130" loading="lazy"
                         data-bs-toggle="tooltip" data-bs-placement="top"
                         title="Mẫu ${kieumatna}">
                </label>
                <div class="form-check ps-0">
                    <input class="form-check-input d-none" type="radio" 
                           name="style9" id="matna11${kieumatna}" 
                           value="${data.matna}" 
                           matna="${data.matna}">
                    <label class="form-check-label text-muted d-block text-truncate text-center" 
                           for="matna11${kieumatna}">
                        <b>Mẫu ${kieumatna}</b>
                    </label>
                </div>
            </div>
    `;
}).join("");
</script>
    <img class="sd-none" id="anhcrop1" src="https://dulieublog2.github.io/img/imgup.png" height="38px" />
    <button type="button" class="btn btn-success btn-chonanh" data-bs-toggle="modal" data-bs-target="#imgModal1">
        <span data-feather="upload"></span> <span id="upanh1">Chọn ảnh nền</span>
    </button>
    <div class="mt-3">
    <img class="sd-none" id="anhcrop2" src="https://dulieublog2.github.io/img/imgup.png" height="38px" />
    <button type="button" class="btn btn-success btn-chonanh" data-bs-toggle="modal" data-bs-target="#imgModal2">
        <span data-feather="upload"></span> <span id="upanh2">Chọn ảnh giữa</span>
    </button>
</div>
	<br/>
 <button class="btnchonfont" data-target="tenfontbh"><i class="fa-solid fa-list"></i> Chọn Phông chữ (Tên BH)</button>
<input class="janbutton jan5"  type="button" value="Reset" onclick="xoanoidung()"> 
<br /><br/>
<div class="janform-group khungabc">
  <span>Tên bài hát:</span>
<textarea  id="tenbaihat" type="text"  placeholder="Nhập tên bài hát" class="form-control"  aria-label="With textarea" required="required" style="height: 60px;">
NGƯỜI NHƯ ANH
</textarea>

</div>
	<button class="badge badge-primary" id="hienthithem2" onclick="anhiennoidung2()"  type="button"> Hiển Thị Thêm (Tên BH)</button>
<br /><br/>
<div id="hienthemnoidung2" style="display:none">
<div class="khungabc">
  <label>Màu chữ (Tên BH):</label>
  <input id="mautenbh" data-jscolor="{value:'#FFFFFF'}" style="width:110px;"><br /><br/>
  <label> Cỡ chữ (Tên BH): <span id="hiencochu2" class="hienthi-span"></span></label>
<input type="range" min="10" max="200" value="60" id="cochu2"><br/> <br/>
  <label> Trên - Dưới (Tên BH): <span id="hientrenduoibh" class="hienthi-span"></span> </label>
<input type="range" min="0" max="800" value="400" id="trenduoibh"><br/> <br/>
  <label>K/cách dòng (Tên BH): <span id="hienkcbh" class="hienthi-span"></span></label>
<input type="range" min="80" max="120" value="80" id="khoangcachbh">	<br/> <br/>
</div>
</div>
<div class="khungabc">
<div class="janform-group">
  <span>Tên ca sĩ:</span>
<input class="janform-field" type="text" id="tencs" value="Mai Tiến Dũng" placeholder="Nhập tên người thể hiện bài hát" style="width:100%;" >
</div>
<div class="janform-group">
  <span>Tên kênh:</span>
<input class="janform-field" type="text" id="tenkenh" value="" placeholder="Nhập tên kênh tiktok của bạn (bản quyền ảnh)" style="width:100%;" >
</div>
</div>

	<button class="badge badge-primary" id="hienthithem" onclick="anhiennoidung()"  type="button"> Hiển Thị Thêm</button>
<br /><br/>
<div id="hienthemnoidung" style="display:none">
	  <button class="btnchonfont" data-target="tenfontlyrics"><i class="fa-solid fa-list"></i> Chọn Phông chữ (Lyrics)</button><br />
	  <button class="btnchonfont" data-target="tenfonttencs"><i class="fa-solid fa-list"></i> Chọn Phông chữ (Tên CS)</button>
<input type="hidden" id="tenfonttencs"  value="fontjan60" style="width:110px;">	<input type="hidden" id="tenfontlyrics"  value="fontjan28" style="width:110px;">
<input type="hidden" id="tenfontbh"  value="fontjan3" style="width:110px;">
<div class="khungabc mt-4">
  <label> Màu chữ lyrics:  <input id="colorchu" data-jscolor="{value:'#FFFFFF'}" style="width:110px;"></label>
<br /><br/>
<label> Cỡ chữ (Lyrics): <span id="hiencochu" style="background-color: #dbffff; color: red;"></span></label>
<input type="range" min="10" max="30" value="22" id="cochu">	<br/> <br/>
<label>Trên - Dưới(Lyrics): <span id="hientrenduoi" style="background-color: #fcffdb; color: red;"></span></label>
<input type="range" min="20" max="900" value="270" id="trenduoi"><br/> <br/>
<label> Trái - Phải (Lyrics): <span id="hientraiphai" style="background-color: #dbffff; color: red;"></span></label>	
<input type="range" min="420" max="520" value="440" id="traiphai"> <br/> <br/>
<label>K/cách dòng (Lyrics): <span id="hienkc" style="background-color: #fcffdb; color: red;"></span></label>
<input type="range" min="10" max="80" value="50" id="khoangcach"><br/> <br/>
</div>
</div>
  <div class="input-group-prepend">
<span class="input-group-text">Lời bài hát:</span>
</div>
	  <div class="input-group mb-3">
<textarea  id="loibaihat" type="text"  placeholder="Nhập lời bài hát" class="form-control"  aria-label="With textarea" required="required" style="height: 250px;">

Chúng ta gần nhau mà như cách xa
Chúng ta gần nhau mà lòng băng giá
Tình yêu có phải khi ta chấp nhận
Rời xa để thấy yêu nhau nhiều hơn

Anh mong rằng em sẽ có một người
Yêu em cùng em đến hết cuộc đời
Một người mới luôn khiến em vui
Chẳng phải như anh chỉ làm em khóc

Nước mắt cho em đã quá đủ rồi
Nỗi xót xa em nhận lấy nhiều rồi
Xin lỗi anh không như những gì mà em mong
Một người như anh

Và anh biết rằng nơi trái tim em còn
Còn mong nhớ anh từng giờ
Nỗi đau anh biết rằng là
Thật khó để mình quên đi
</textarea></div>

  <div class="mt-3  my-2 text-center">
<button id="button123a" onclick="taoanhfree()" class="btntaoanhfree ttn my-2"><i class="fa-solid fa-screwdriver-wrench"></i> TẠO ẢNH </button>
<br/>
 <b class="mt-3" id="taianh1"></b> <b class="mt-3" id="taianh2"></b>
</div>
<div class="popupfont" id="popupfont"></div>
<input id="duong_dan" type="hidden" value="ee" />    
<input id="chieucaodoiimg" type="hidden" value="1000" />    
<input id="vtriimgdoc" type="hidden" value="235" /> 
<input id="vtritenbaihat" type="hidden" value="300" />
<input id="vtritencs" type="hidden" value="170" />
<input id="vtringangmatna1" type="hidden" value="0" />    
<input id="vtridocmatna1" type="hidden" value="-190" /> 
<input id="rongmatna1" type="hidden" value="2160" />
<input id="caomatna1" type="hidden" value="2160" />
<input id="vtringangmatna2" type="hidden" value="-1080" />    
<input id="vtridocmatna2" type="hidden" value="-190" /> 
<input id="rongmatna2" type="hidden" value="2160" />
<input id="caomatna2" type="hidden" value="2160" />
<input id="vtringangbong1" type="hidden" value="0" /> 
<input id="chieurongbong1" type="hidden" value="2160" />
<input id="chieucaobong1" type="hidden" value="1470" />
<input id="vtringangbong2" type="hidden" value="-1080" /> 
<input id="chieurongbong2" type="hidden" value="2160" />
<input id="chieucaobong2" type="hidden" value="1470" />
<input id="maunen1" type="hidden" value="https://raw.githubusercontent.com/dulieublog2/img/main/imggg/lyric3nen1.jpeg" />
<input id="maunen2" type="hidden" value="https://dulieublog2.github.io/img/demo3a.png" />
<input id="matna" type="hidden" value="https://dulieublog2.github.io/img/matna2.png" />
<canvas class="d-none"  id="taoanhfreecanvas"></canvas><canvas class="d-none"  id="taoanhfreecanvas2"></canvas>

<div class="containercot">
<div class="chiacot2">
<div id="imgout1" ></div>
 </div>
 
  <div class="chiacot2">
<div id="imgout2" ></div>
  </div>
</div>
 <div id="showlinkduphong" class="text-center" style="display: none;" >
 <button class="janbutton jan1 my-4"  id="laylinkduphong"><i class="fa-solid fa-share-from-square"></i> Link tải dự phòng</button>
	  <p id="kqlaylink" class="loading"></p>
	</div>
<div class="containercot">
<div class="chiacot2">
<div><img id="imgduphong1" style="margin-top:20px;float:right; max-width: 100px; display: none;" /></div>
  </div>
  <div class="chiacot2">
<div><img id="imgduphong2" style="margin-top:20px; max-width: 100px; display: none;"  /></div>
  </div>
</div>
 <br/> <br/>
<input type="hidden" id="linkanh1">
<input type="hidden" id="linkanh2">
<input type="hidden" id="chieuronganhxuat" value="1080">
<input type="hidden" id="chieucaoanhxuat" value="1470">
<input type="hidden" id="chieurongcrop1" value="500">
<input type="hidden" id="chieucaocrop1" value="340">
<input type="hidden" id="chieurongcrop2" value="800">
<input type="hidden" id="chieucaocrop2" value="1000">
<script>
function xoanoidung() {
  const fieldsToSave = [
    "tenbaihat", "tencs", "tenkenh", "loibaihat",
    "mautenbh", "colorchu", "cochu", "cochu2",
    "khoangcach", "khoangcachbh", "trenduoi", "trenduoibh", "traiphai"
  ];
  fieldsToSave.forEach(id => localStorage.removeItem(id));

  const defaultValues = {
    mautenbh: "#FFFFFF",
    colorchu: "#FFFFFF",
    cochu: 22,
    cochu2: 60,
    khoangcach: 50,
    khoangcachbh: 80,
    trenduoi: 270,
    trenduoibh: 400,
    traiphai: 440
  };

  ["tenbaihat", "tencs", "tenkenh", "loibaihat"].forEach(id => {
    const el = document.getElementById(id);
    if (el) el.value = "";
  });

  Object.keys(defaultValues).forEach(id => {
    const el = document.getElementById(id);
    if (!el) return;
    el.value = defaultValues[id];
    if (el.jscolor) {
      el.jscolor.fromString(defaultValues[id]);
    }
  });

  const maap = {
    cochu: "hiencochu",
    cochu2: "hiencochu2",
    khoangcach: "hienkc",
    khoangcachbh: "hienkcbh",
    trenduoi: "hientrenduoi",
    trenduoibh: "hientrenduoibh",
    traiphai: "hientraiphai"
  };
  Object.keys(defaultValues).forEach(id => {
    if (maap[id]) {
      const span = document.getElementById(maap[id]);
      if (span) span.innerHTML = defaultValues[id];
    }
  });
}
</script>
<script>
const luucacmuc = [
  "tenbaihat", "tencs", "tenkenh", "loibaihat",
  "mautenbh", "colorchu",
  "cochu", "cochu2",
  "khoangcach", "khoangcachbh",
  "trenduoi", "trenduoibh",
  "traiphai"
];

function capnhatthanhtruot(id, value) {
  const map = {
    cochu: "hiencochu",
    cochu2: "hiencochu2",
    khoangcach: "hienkc",
    khoangcachbh: "hienkcbh",
    trenduoi: "hientrenduoi",
    trenduoibh: "hientrenduoibh",
    traiphai: "hientraiphai"
  };
  if (map[id]) {
    const el = document.getElementById(map[id]);
    if (el) el.innerHTML = value;
  }
}

luucacmuc.forEach(id => {
  const el = document.getElementById(id);
  if (!el) return;

  const saveValue = () => {
    localStorage.setItem(id, el.value);
    capnhatthanhtruot(id, el.value);
  };

  el.addEventListener("input", saveValue);
  el.addEventListener("change", saveValue);

  if (el.jscolor) {
    el.jscolor.onFineChange = () => {
      localStorage.setItem(id, el.jscolor.toHEXString());
    };
  }
});

window.addEventListener("DOMContentLoaded", () => {
  luucacmuc.forEach(id => {
    const saved = localStorage.getItem(id);
    if (saved !== null) {
      const el = document.getElementById(id);
      if (!el) return;
      el.value = saved;
      capnhatthanhtruot(id, saved);

      if (el.jscolor) {
        el.jscolor.fromString(saved);
      } else if (el.type === "color") {
        el.style.backgroundColor = saved;
      }
    }
  });
});



</script>
<script> function anhiennoidung() {
 var anhien = document.getElementById("hienthemnoidung");
 var textnd = document.getElementById("hienthithem");
 if(anhien.style.display == "block") {
    anhien.style.display = "none";
  textnd.innerHTML = "Hiển thị thêm";
   }
 else {
  anhien.style.display = "block";
  textnd.innerHTML = "Ẩn lựa chọn"; 
 }
} 
</script>
<script> function anhiennoidung2() {
 var anhien2 = document.getElementById("hienthemnoidung2");
 var textnd2 = document.getElementById("hienthithem2");
 if(anhien2.style.display == "block") {
    anhien2.style.display = "none";
  textnd2.innerHTML = "Hiển thị thêm (Tên BH)";
   }
 else {
  anhien2.style.display = "block";
  textnd2.innerHTML = "Ẩn lựa chọn"; 
 }
} 
</script>
<script >
  function setupSlider(sliderId, outputId) {
  const slider = document.getElementById(sliderId);
  const output = document.getElementById(outputId);
  output.innerHTML = slider.value;
  slider.oninput = function () {
  output.innerHTML = this.value;
  };
}
setupSlider("khoangcach", "hienkc");
setupSlider("trenduoi", "hientrenduoi");
setupSlider("cochu", "hiencochu");
setupSlider("cochu2", "hiencochu2");
setupSlider("khoangcachbh", "hienkcbh");
setupSlider("trenduoibh", "hientrenduoibh");
setupSlider("traiphai", "hientraiphai");

</script>
<script src='https://cdn.jsdelivr.net/gh/taoanhfreeblog/data/chonfontlyrics.js'></script>


	<script type="text/javascript">
	 let isDetected = false;
    const trap = new Image();
    Object.defineProperty(trap, 'id', {
        get: function() {
            isDetected = true;
            document.body.innerHTML = "<h1>⚠️ Lỗi, hãy tải lại trang</h1>";
            throw new Error("Debug detected");
        }
    });


setInterval(() => {
  const t1 = performance.now();
  for (let i = 0; i < 1e6; i++) {}
  const t2 = performance.now();
  if (t2 - t1 > 100) {
    devToolsDetected = true;
    document.body.innerHTML = "<h1>Lỗi</h1>";
  }
}, 1000);



    setInterval(() => {
        if (!isDetected) {
// console.log(trap);
 // console.clear();
        }
    }, 1000);

    setInterval(() => {
        const t1 = performance.now();
//eval("debugger");
        const t2 = performance.now();
        if (t2 - t1 > 150) {
            isDetected = true;
            document.body.innerHTML = "<h1>⚠️ Lỗi, hãy tải lại trang</h1>";
        }
    }, 1000);
	    function isEmulator() {
        const ua = navigator.userAgent || navigator.vendor || window.opera;
        return /Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(ua) &&
            navigator.maxTouchPoints > 0 &&
            navigator.platform.toLowerCase().includes("win");
    }
	    setTimeout(() => {
        if (isDetected) return;
        
        if (isEmulator()) {
            document.body.innerHTML = "<h1>🚫 Lỗi, hãy tải lại trang</h1>";
        } else {

            jana();   
            janc();   
            janb();   

			     
        }
    }, 1200);
	</script>
	<script type="text/javascript">
function jana() {
         
        try {
            const tenm = window.location.hostname.toLowerCase().trim();
            const proto = window.location.protocol;
            
            const cactenm = [
                "janshare.github.io",
                "nhanguiyeuthuong.github.io"
            ];
            const ulll = "https://janshareblog.blogspot.com"; 
            const validProtocoll = proto === "http:" || proto === "https:";
            const validDomainn = cactenm.some(domain => 
                tenm === domain || tenm.endsWith("." + domain)
            );
            
            if (validProtocoll && validDomainn) {
               
              
                const jsCode = `
                    
 const loadingg = document.getElementById("loadingg");
    const loadingMessages = [
      '<span class="fas fa-spinner fa-spin"></span> Đang tạo ảnh...',
      '<span class="fas fa-spinner fa-spin"></span> Vui lòng đợi'
    ];
    let msgIndex = 0;
    let intervalId = null;

    function startloading(loadingg) {
      if (intervalId) clearInterval(intervalId);
      loadingg.innerHTML = loadingMessages[msgIndex];
      intervalId = setInterval(() => {
        msgIndex = (msgIndex + 1) % loadingMessages.length;
        loadingg.innerHTML = loadingMessages[msgIndex];
      }, 1500);
    }

    function stoploading(loadingg) {
      clearInterval(intervalId);
      intervalId = null;
      loadingg.innerHTML = '<i class="fa-solid fa-screwdriver-wrench"></i> TẠO ẢNH';
    }

                `;
                
                const script = document.createElement("script");
                script.textContent = jsCode;
                script.onerror = function() {
                    console.error("Failed to execute");
                };
                document.body.appendChild(script);
                    
            } else {
                console.log("Domain not allowed, would redirect to:", ulll);
              setTimeout(() => location.href = ulll, 1000);
            }
        } catch (error) {
            console.error("Error:", error);
            document.body.innerHTML = "<h1>⚠️ Error</h1>";
        }
        };
		
		
		
		function janb() {
 
    try {
        const tenm = window.location.hostname.toLowerCase().trim();
        const proto = window.location.protocol;
        
        const cactenm = [
                "janshare.github.io",
                "nhanguiyeuthuong.github.io"
        ];
        const ulll = "https://janshareblog.blogspot.com"; 
        const validProtocoll = proto === "http:" || proto === "https:";
        const validDomainn = cactenm.some(domain => 
            tenm === domain || tenm.endsWith("." + domain)
        );
        
        if (validProtocoll && validDomainn) {
           
            
            const scriptUrl = "https://nhanguiyeuthuong.github.io/love/ly3github.js";
            
            const script = document.createElement("script");
            script.src = scriptUrl;
            script.onerror = function() {
                console.error("Failed to load");
            };
            

      
        document.body.appendChild(script);
                
        } else {
            console.log("Domain not allowed, would redirect to:", ulll);
            // setTimeout(() => location.href = ulll, 1000);
        }
    } catch (error) {
        console.error("Error:", error);
       // document.body.innerHTML = "<h1>⚠️ Error</h1>";
    }
    };
	
	
			function janc() {
 
    try {
        const tenm = window.location.hostname.toLowerCase().trim();
        const proto = window.location.protocol;
        
        const cactenm = [
                "janshare.github.io",
                "nhanguiyeuthuong.github.io"
        ];
        const ulll = "https://janshareblog.blogspot.com"; 
        const validProtocoll = proto === "http:" || proto === "https:";
        const validDomainn = cactenm.some(domain => 
            tenm === domain || tenm.endsWith("." + domain)
        );
        
        if (validProtocoll && validDomainn) {
           
            
            const scriptUrl = "https://nhanguiyeuthuong.github.io/love/xuatly3.js";
            
            const script = document.createElement("script");
            script.src = scriptUrl;
            script.onerror = function() {
                console.error("Failed to load");
            };
            

      
        document.body.appendChild(script);
                
        } else {
            console.log("Domain not allowed, would redirect to:", ulll);
            // setTimeout(() => location.href = ulll, 1000);
        }
    } catch (error) {
        console.error("Error:", error);
       // document.body.innerHTML = "<h1>⚠️ Error</h1>";
    }
    };
</script>
	
<script src="https://cdn.jsdelivr.net/gh/taoanhfreeblog/file/linkduphong2anh.js"></script>
<script src="https://cdn.jsdelivr.net/gh/taoanhfreeblog/data@main/taoanhfreecrop2img.js"></script>
<script src="https://cdn.jsdelivr.net/gh/taoanhfreeblog/data/jscolor.js"></script>
<script type="text/javascript">
    
 var style = document.getElementsByName('style');
    for (var i = 0, length = style.length; i < length; i++) {
      style[i].addEventListener('click',function(){
	      el('maunen1').value       = this.getAttribute('maunen1');
          el('vtriimgdoc').value       = this.getAttribute('vtriimgdoc');
          el('chieucaodoiimg').value       = this.getAttribute('chieucaodoiimg');
          el('chieucaocrop').value       = this.getAttribute('chieucaocrop');
          el('chieucaoanhxuat').value       = this.getAttribute('chieucaoanhxuat');  
          el('vtritenbaihat').value       = this.getAttribute('vtritenbaihat');  
          el('vtritencs').value       = this.getAttribute('vtritencs');  
		  el('vtringangmatna1').value       = this.getAttribute('vtringangmatna1');  
          el('vtridocmatna1').value       = this.getAttribute('vtridocmatna1');  	  
          el('rongmatna1').value       = this.getAttribute('rongmatna1');  	  	  
          el('caomatna1').value       = this.getAttribute('caomatna1');  	 
		  el('vtringangmatna2').value       = this.getAttribute('vtringangmatna2');  
          el('vtridocmatna2').value       = this.getAttribute('vtridocmatna2');  	  
          el('rongmatna2').value       = this.getAttribute('rongmatna2');  	  	  
          el('caomatna2').value       = this.getAttribute('caomatna2');  	  	 
		  el('anhbong').value       = this.getAttribute('anhbong');  		  
		  el('vtringangbong1').value       = this.getAttribute('vtringangbong1');  
          el('chieurongbong1').value       = this.getAttribute('chieurongbong1');  	  
          el('chieucaobong1').value       = this.getAttribute('chieucaobong1');  	  	  
  	 	  el('vtringangbong2').value       = this.getAttribute('vtringangbong2');  
          el('chieurongbong2').value       = this.getAttribute('chieurongbong2');  	  
          el('chieucaobong2').value       = this.getAttribute('chieucaobong2');  	  	  
      });
    }

        </script>
		

	<script>
		document.getElementById('up').onchange = function(){
			if(this.files["0"]){
				var blobURL2 = URL.createObjectURL(this.files["0"]);
				console.log('create',blobURL2);
				document.querySelector('#fontface').innerHTML = `
					@font-face {
						font-family: myfont_taoanhfree;
				
						src: url("${blobURL2}"),local('Font của tôi');
					}
				`;
				setTimeout(function(){
					URL.revokeObjectURL(blobURL2);
					console.log('release',blobURL2);
				},10000);
			}
		};
	</script>
<script type="text/javascript">
function styleeeee(name, mapping) {
  var elements = document.getElementsByName(name);
  for (var i = 0; i < elements.length; i++) {
    elements[i].addEventListener('click', function () {
      for (var target in mapping) {
        if (mapping.hasOwnProperty(target)) {
          var attr = mapping[target];
          if (el(target)) {
            if (el(target).tagName === 'INPUT' || el(target).tagName === 'TEXTAREA') {
              el(target).value = this.getAttribute(attr);
            } else {
              el(target).innerHTML = this.getAttribute(attr);
            }
          }
        }
      }
    });
  }
}
styleeeee('style3',  { 'tenfont': 'tenfont', 'tenfont2': 'tenfont2' });
styleeeee('style4',  { 'tenfontlyrics': 'tenfontlyrics', 'tenfontlyrics2': 'tenfontlyrics2' });
styleeeee('style5',  { 'tenfonttencs': 'tenfonttencs', 'tenfonttencs2': 'tenfonttencs2' });
styleeeee('style9',  { 'matna': 'matna' });
styleeeee('style10', { 'maunen1': 'maunen1' });
</script>


<script src="./js/eimg3.js"></script>

